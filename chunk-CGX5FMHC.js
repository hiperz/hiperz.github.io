import{a as l,f as p,ua as g,v as m}from"./chunk-4WCITUJ2.js";import{X as c,aa as n,ab as d,k as s}from"./chunk-TBPIXPHB.js";var u=class o{constructor(t,e,r,i,a){this.http=t;this.meta=e;this.renderer=r;this.messageService=i;this.translateService=a}readTextFile(t){return this.http.get(t,{responseType:"text"})}updateMetaTags(t,e){let r=this.renderer.createElement("div");r.innerHTML=t,r.querySelectorAll("code, script").forEach(h=>h.remove());let a="JunaPapa",v=(r.textContent||r.innerText||"").trim();this.updateOrCreateMetaTag("author",a),this.updateOrCreateMetaTag("description",v),this.updateOrCreateMetaTag("keywords",e)}extractContent(t){let e=this.renderer.createElement("div");return e.innerHTML=t,(e.textContent||e.innerText||"").trim()}updateOrCreateMetaTag(t,e){this.meta.getTag(`name='${t}'`)?this.meta.updateTag({name:t,content:e}):this.meta.addTag({name:t,content:e})}utf8ToBase64(t){let r=new TextEncoder().encode(t),i="";return r.forEach(a=>{i+=String.fromCharCode(a)}),btoa(i)}imageToBase64(t){return new s(e=>{let r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e.next(r.result),e.complete()},r.onerror=i=>{e.error(i)}})}base64ToUtf8(t){let e=atob(t),r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return new TextDecoder().decode(r)}notify(t,e="",r="info"){this.messageService.add({severity:r,summary:t?this.translateService.instant(t):"",detail:e&&this.translateService.instant(e)})}copyToClipboard(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(()=>{}).catch(e=>{console.error(e)});else{let e=document.createElement("textarea");e.value=t,e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(e)}}readFromClipboard(){return new s(t=>{navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(e=>{t.next(e),t.complete()}).catch(e=>{t.error(e)}):t.error("Clipboard API not supported")})}static \u0275fac=function(e){return new(e||o)(n(l),n(p),n(d),n(g),n(m))};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
