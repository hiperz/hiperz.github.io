<p data-ke-size="size16">&nbsp;Generally, when using NLog to generate log messages within multiple class libraries or
    multiple classes, there are times when you need to process the message each time a log message occurs and display it
    on the GUI, or publish it to a Message Broker like GRPC, WebSocket, or Kafka.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;In such cases, you can easily implement it using the MethodCallTarget class of NLog as
    shown below.</p>
<br>
<pre id="code_1675818915815" class="csharp" data-ke-language="csharp" data-ke-type="codeblock"><code>// Define the callback function.
var target = new MethodCallTarget("LogNotify", async (logEvent, parameters) =&gt;
{
    // Perform the desired processing here. If there are no asynchronous calls inside, remove the async above.
    if (logEvent.Level &gt; NLog.LogLevel.Debug)
    {
    ...
    }
});

// Register the callback function to be called for all log message levels.
LogManager.Configuration.AddRuleForAllLevels(target);

// Update the logger configuration.
LogManager.ReconfigExistingLoggers();</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">The example from the official website's documentation (<a
        href="https://nlog-project.org/documentation/v2.0.1/html/T_NLog_Targets_MethodCallTarget.htm" target="_blank"
        rel="noopener">https://nlog-project.org/documentation/v2.0.1/html/T_NLog_Targets_MethodCallTarget.htm</a>) is as
    follows.</p>
<br>
<pre id="code_1675819002332" class="csharp" data-ke-language="csharp" data-ke-type="codeblock"><code>using System;
using NLog;
using NLog.Targets;
using System.Diagnostics;

public class Example
{
    public static void LogMethod(string level, string message)
    {
        Console.WriteLine("l: {0} m: {1}", level, message);
    }
    static void Main(string[] args)
    {
        MethodCallTarget target = new MethodCallTarget();
        target.ClassName = typeof(Example).AssemblyQualifiedName;
        target.MethodName = "LogMethod";
        target.Parameters.Add(new MethodCallParameter("${level}"));
        target.Parameters.Add(new MethodCallParameter("${message}"));

        NLog.Config.SimpleConfigurator.ConfigureForTargetLogging(target, LogLevel.Debug);

        Logger logger = LogManager.GetLogger("Example");
        logger.Debug("log message");
        logger.Error("error message");
    }
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>