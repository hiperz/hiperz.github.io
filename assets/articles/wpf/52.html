<p data-ke-size="size16">&nbsp;When developing with the MVVM pattern, there are many cases where you need to deliver events from one ViewModel to another or from a ViewModel to a View in a 1:1 or 1:N manner. In this case, you can create a static class to handle events accessible globally, or create a service class to handle event variables accessible from multiple ViewModels through dependency injection. However, using the WeakReferenceMessenger class provided by CommunityToolkit, you can easily implement a Pub/Sub style event queue.</p>
<p data-ke-size="size16">&nbsp;Although it is simple and convenient to use, in practice, there are many cases where you need to apply debounce time to the event stream or use the event buffer as a ring buffer, which is not possible with WeakReferenceMessenger, so it is a bit disappointing.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;To understand the simple usage, I will explain based on the code written in the previous article.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;Goal: When a button is clicked in the View, use WeakReferenceMessenger to send a message from MainWindowViewModel to MainWindowView to display "Hello World" in the TextBox control.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;It is easy to handle events from View to ViewModel through binding, but it is not easy to make the View perform a specific action by triggering an arbitrary event from the ViewModel, so we will implement this using WeakReferenceMessenger.</p>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><b>1. Create Message Class</b></h2>
<p data-ke-size="size16">Create a Messages folder in the project and create a TestMessage class file.</p>
<p>
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdgUn1M%2Fbtr4vo30Yhg%2FZCvgshI0fiAXBdJVfHAya1%2Fimg.png" alt="">    
</p>
<pre id="code_1679055381567" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>using CommunityToolkit.Mvvm.Messaging.Messages;

namespace MyTestApp.Messages
{
    public class TestMessage : ValueChangedMessage&lt;string&gt;
    {
        public TestMessage(string text) : base(text)
        {
        }
    }
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><b>2. Register to Receive Messages in the View</b></h2>
<p data-ke-size="size16">MainWindow.xaml.cs</p>
<pre id="code_1679055479924" class="csharp" data-ke-language="csharp" data-ke-type="codeblock"><code>using CommunityToolkit.Mvvm.Messaging;
using MyTestApp.Messages;
using System.Windows;

namespace MyTestApp
{
    /// &lt;summary&gt;
    /// Interaction logic for MainWindow.xaml
    /// &lt;/summary&gt;
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();

            WeakReferenceMessenger.Default.Register&lt;TestMessage&gt;(this, (r, m) =&gt;
            {
                ctlTextBox.Text = m.Value;
            });
        }
    }
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<h2 data-ke-size="size26"><b>3. Add Button and TextBox Controls to the View, Bind to ViewModel Properties/Commands, and Write Code to Send Message on Button Click in ViewModel</b></h2>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">MainWindowViewModel.cs</p>
<pre id="code_1679055912361" class="csharp" data-ke-language="csharp" data-ke-type="codeblock"><code>using CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using CommunityToolkit.Mvvm.Messaging;
using MyTestApp.Messages;

namespace MyTestApp.ViewModels
{
    public partial class MainWindowViewModel : ObservableObject
    {
        [ObservableProperty]
        private string title;

        public MainWindowViewModel()
        {
            Title = "Initial Value";
        }

        [RelayCommand]
        private void SendMessage()
        {
            WeakReferenceMessenger.Default.Send(new TestMessage("Hello World"));
        }
    }
}</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">MainWindow.xaml</p>
<pre id="code_1679055969536" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>&lt;Window x:Class="MyTestApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MyTestApp"
        mc:Ignorable="d"
        Title="MainWindow"
        Height="450"
        Width="800"
        DataContext="{Binding Source={StaticResource VmLocator}, Path=MainWindowVM}"&gt;
    &lt;Grid&gt;
        &lt;StackPanel Orientation="Vertical"&gt;
            &lt;TextBox Text="{Binding Title}" /&gt;
            &lt;Button Content="Click Here"
                    Command="{Binding SendMessageCommand}" /&gt;
            &lt;TextBox x:Name="ctlTextBox" /&gt;
        &lt;/StackPanel&gt;
    &lt;/Grid&gt;
&lt;/Window&gt;</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">Now, after compiling and running, you can see "Hello World" displayed in the TextBox when you click the button.</p>
<p>
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F2QMz6%2Fbtr4tPg6juO%2FYZY2tvpje02rUvzORnLHs0%2Fimg.png" alt="">
</p>
<p data-ke-size="size16">&nbsp;</p>