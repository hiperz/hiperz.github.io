import{b as Z}from"./chunk-MMURXMYA.js";import{a as Y}from"./chunk-TR56YZBI.js";import{a as J,b as K,f as M}from"./chunk-C3RDG4SJ.js";import{Pa as Q,Qa as W,Ra as X,h as G,p as q,w as x,x as C}from"./chunk-Z5QJVAFB.js";import{Ab as D,Cb as B,Db as F,Eb as s,Fb as a,Gb as u,Jc as $,Kb as N,Lb as v,Mb as y,Qc as U,Ta as E,Ub as p,Vb as b,Wa as n,Wb as k,Xa as o,Xb as w,fb as g,hb as z,ib as j,ja as O,ka as L,kc as d,lc as f,mb as H,mc as V,ub as h,wa as R,zb as A}from"./chunk-VECOZZOS.js";function ne(r,i){if(r&1){let e=N();s(0,"div")(1,"a",4),v("click",function(){let m=O(e).$implicit,l=y();return L(l.onClickLink(m))}),p(2),a()()}if(r&2){let e=i.$implicit;n(2),k(" ",e.label," ")}}var _=class r{constructor(i){this.menuService=i}_item;get item(){return this._item}set item(i){if(i!==this._item&&(this._item=i,this._item)){let e=K.find(t=>t.category===this._item.category);this.category=e.label,this.itemList=this.menuService.getRelevantArticles(this._item)}}category="";itemList=[];onClickLink(i){this.menuService.navigateTo({item:i})}static \u0275fac=function(e){return new(e||r)(o(M))};static \u0275cmp=g({type:r,selectors:[["app-relevant-article-list"]],inputs:{item:"item"},decls:11,vars:4,consts:[[1,"mt-10","p-2"],[1,"text-zinc-700"],[1,"border-b","my-2","border-zinc-300"],[1,"text-sm","text-zinc-500","font-semibold"],[1,"text-zinc-500","hover:text-primary-500","cursor-pointer",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2")(3,"span"),p(4),a(),p(5),d(6,"translate"),a()(),u(7,"div",2),s(8,"div",3),B(9,ne,3,1,"div",null,D),a()()),e&2&&(n(4),b(t.category),n(),k(" > ",f(6,2,"Posts related to this category")," "),n(4),F(t.itemList))},dependencies:[C,x],encapsulation:2})};var S=class r{constructor(i){this.elementRef=i;typeof MutationObserver<"u"&&new MutationObserver((t,m)=>{let l=this.elementRef.nativeElement.getElementsByTagName("script");if(l.length>0){this.at=0,this.total=l.length,this.reinsertScripts(l),m.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(i){let e=i[this.at];if(e){let t=document.createElement("script");t.type=e.type?e.type:"text/javascript",e.innerHTML?t.innerHTML=e.innerHTML:e.src&&(t.src=e.src),t.async=!1,t.onload=m=>{this.at++,this.reinsertScripts(i)},e.parentNode.replaceChild(t,e)}}static \u0275fac=function(e){return new(e||r)(o(R))};static \u0275dir=z({type:r,selectors:[["","runScripts",""]]})};var P=class r{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustHtml(i)}static \u0275fac=function(e){return new(e||r)(o(G,16))};static \u0275pipe=j({name:"safeHtml",type:r,pure:!0})};function oe(r,i){if(r&1&&(u(0,"div",6),d(1,"safeHtml")),r&2){let e=y();h("innerHTML",f(1,1,e.html),E)}}var ee=class r{constructor(i,e,t,m){this.menuService=i;this.router=e;this.helper=t;this.counter=m}htmlPath="";title="";tags=[];html;item;totalRead=0;timestamp="";script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;ngOnInit(){let i=$.stripTrailingSlash(this.router.url),e=this.menuService.getMenuByUrl(i);if(e){this.item=e,this.title=e.label??"",this.timestamp=e.timestamp??"",this.tags=e.keywords?e.keywords.split(",").map(c=>c.trim()):[],this.htmlPath=`assets/${e.routerLink}.html`,this.html=void 0;let t=e.routerLink.split("/"),m=t.at(-2),l=+t.at(-1),T=J.find(c=>c.category===m&&c.id===l);if(T){let c=T.content;this.helper.updateMetaTags(c,e.keywords),this.html=this.script+c}}this.counter.getCounts([i]).subscribe(t=>{t.data.length>0&&(this.totalRead=t.data[0].visit??0)})}goBack(){history.back()}static \u0275fac=function(e){return new(e||r)(o(M),o(q),o(Y),o(X))};static \u0275cmp=g({type:r,selectors:[["app-articles"]],inputs:{htmlPath:"htmlPath"},decls:16,vars:17,consts:[[1,"article-container","mx-auto","md:p-5","text-zinc-800","p-2"],[1,"mb-3","flex","justify-end"],[3,"click","label","text"],[1,"text-2xl","font-bold","mb-5","text-surface-700"],[1,"text-sm","font-bold","mb-5","text-surface-500","border-b","flex","flex-row","items-center"],[1,"ml-2"],["runScripts","",1,"overflow-auto",3,"innerHTML"],[3,"keywords"],[3,"item"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"p-button",2),v("click",function(){return t.goBack()}),a()(),s(3,"div",3),p(4),a(),s(5,"div",4)(6,"div"),p(7),d(8,"translate"),d(9,"date"),a(),s(10,"div",5),p(11),d(12,"translate"),a()(),H(13,oe,2,3,"div",6),a(),u(14,"app-article-tags",7)(15,"app-relevant-article-list",8)),e&2&&(n(2),h("label","Go back")("text",!0),n(2),b(t.title),n(3),w("",f(8,10,"Publish Date"),":\xA0",V(9,12,t.timestamp,"yyyy-MM-dd"),""),n(4),w("",f(12,15,"Total read"),":\xA0",t.totalRead,""),n(2),A(t.html?13:-1),n(),h("keywords",t.tags),n(),h("item",t.item))},dependencies:[P,S,W,Q,Z,_,C,x,U],styles:['@charset "UTF-8";.article-container[_ngcontent-%COMP%]{line-height:2}[_nghost-%COMP%]     h1{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h2{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h3{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h4{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     p{overflow-wrap:anywhere;margin:1rem 0}[_nghost-%COMP%]     pre{line-height:1.5}[_nghost-%COMP%]     pre code{white-space:pre;margin:.5rem 0;font-size:1rem;border-radius:18px;padding:2rem!important}[_nghost-%COMP%]     pre ::-webkit-scrollbar{width:10px;height:10px;background-color:transparent}[_nghost-%COMP%]     pre ::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]     pre ::-webkit-scrollbar-thumb{background-color:#00000080;border-radius:4px}[_nghost-%COMP%]     figure{display:flex;flex-direction:row;color:#000;line-height:28px;text-overflow:ellipsis;white-space:nowrap;margin:10px 0!important;overflow:hidden;border:1px solid var(--p-surface-300);padding:.5rem;background-color:var(--p-zinc-100)}[_nghost-%COMP%]     figure a{display:flex}[_nghost-%COMP%]     figure .og-image{width:100px;border:1px solid var(--p-surface-300);margin:0 1rem 0 0!important}[_nghost-%COMP%]     figure .og-title{margin:0!important}[_nghost-%COMP%]     figure .og-text{font-size:1rem;font-weight:600;color:var(--p-zinc-700)}[_nghost-%COMP%]     figure .og-desc{margin:0!important;font-size:.9rem;font-weight:400;color:var(--p-zinc-700)}[_nghost-%COMP%]     figure .og-host{margin:.5rem 0!important;font-size:.9rem;font-weight:400}']})};export{ee as ArticlesComponent};
