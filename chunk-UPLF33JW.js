import{b as Z}from"./chunk-D4RKF5MZ.js";import{b as Y}from"./chunk-VYK7G7QU.js";import{a as q,b as J,f as x}from"./chunk-Q2C66O4J.js";import{Na as K,Oa as Q,Pa as X,h as U,n as G,u as M,v as _}from"./chunk-VYEGLGHD.js";import{Ab as H,Cb as B,Db as F,Eb as s,Fb as o,Gb as h,Hc as W,Kb as N,Lb as v,Mb as b,Oc as $,Sa as R,Ub as l,Vb as y,Wa as n,Wb as w,Xa as a,Xb as C,fb as g,hb as z,ib as j,ja as T,ka as L,kc as c,lc as u,mb as A,mc as V,ub as f,wa as E,zb as D}from"./chunk-KZVD5HA2.js";function ne(r,i){if(r&1){let e=N();s(0,"div",4)(1,"a",5),v("click",function(){let m=T(e).$implicit,p=b();return L(p.onClickLink(m))}),l(2),o()()}if(r&2){let e=i.$implicit;n(2),w(" ",e.label," ")}}var P=class r{constructor(i){this.menuService=i}_item;get item(){return this._item}set item(i){if(i!==this._item&&(this._item=i,this._item)){let e=J.find(t=>t.category===this._item.category);this.category=e.label,this.itemList=this.menuService.getRelevantArticles(this._item)}}category="";itemList=[];onClickLink(i){this.menuService.navigateTo({item:i})}static \u0275fac=function(e){return new(e||r)(a(x))};static \u0275cmp=g({type:r,selectors:[["app-relevant-article-list"]],inputs:{item:"item"},decls:11,vars:4,consts:[[1,"mt-10","p-2"],[1,"text-zinc-700"],[1,"border-b","my-2","border-zinc-300"],[1,"text-zinc-500"],[1,"my-2"],[1,"text-zinc-500","hover:text-primary-500","cursor-pointer",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2")(3,"span"),l(4),o(),l(5),c(6,"translate"),o()(),h(7,"div",2),s(8,"div",3),B(9,ne,3,1,"div",4,H),o()()),e&2&&(n(4),y(t.category),n(),w(" > ",u(6,2,"Posts related to this category")," "),n(4),F(t.itemList))},dependencies:[_,M],encapsulation:2})};var S=class r{constructor(i){this.elementRef=i;typeof MutationObserver<"u"&&new MutationObserver((t,m)=>{let p=this.elementRef.nativeElement.getElementsByTagName("script");if(p.length>0){this.at=0,this.total=p.length,this.reinsertScripts(p),m.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(i){let e=i[this.at];if(e){let t=document.createElement("script");t.type=e.type?e.type:"text/javascript",e.innerHTML?t.innerHTML=e.innerHTML:e.src&&(t.src=e.src),t.async=!1,t.onload=m=>{this.at++,this.reinsertScripts(i)},e.parentNode.replaceChild(t,e)}}static \u0275fac=function(e){return new(e||r)(a(E))};static \u0275dir=z({type:r,selectors:[["","runScripts",""]]})};var k=class r{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustHtml(i)}static \u0275fac=function(e){return new(e||r)(a(U,16))};static \u0275pipe=j({name:"safeHtml",type:r,pure:!0})};function oe(r,i){if(r&1&&(h(0,"div",6),c(1,"safeHtml")),r&2){let e=b();f("innerHTML",u(1,1,e.html),R)}}var ee=class r{constructor(i,e,t,m){this.menuService=i;this.router=e;this.helper=t;this.counter=m}htmlPath="";title="";tags=[];html;item;totalRead=0;timestamp="";totalWordsCount=0;script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;ngOnInit(){let i=W.stripTrailingSlash(this.router.url),e=this.menuService.getMenuByUrl(i);if(e){this.item=e,this.title=e.label??"",this.timestamp=e.timestamp??"",this.tags=e.keywords?e.keywords.split(",").map(d=>d.trim()):[],this.htmlPath=`assets/${e.routerLink}.html`,this.html=void 0;let t=e.routerLink.split("/"),m=t.at(-2),p=+t.at(-1),I=q.find(d=>d.category===m&&d.id===p);if(I){let d=I.content;this.totalWordsCount=this.helper.updateMetaTags(d,e.keywords),this.html=this.script+d}}this.counter.getCounts([i]).subscribe(t=>{t.data.length>0&&(this.totalRead=t.data[0].visit??0)})}goBack(){history.back()}static \u0275fac=function(e){return new(e||r)(a(x),a(G),a(Y),a(X))};static \u0275cmp=g({type:r,selectors:[["app-articles"]],inputs:{htmlPath:"htmlPath"},decls:19,vars:21,consts:[[1,"article-container","mx-auto","md:p-5","text-zinc-800","p-2"],[1,"mb-3","flex","justify-end"],[3,"click","label","text"],[1,"text-surface-700"],[1,"text-sm","font-bold","mb-5","text-surface-500","border-b","flex","flex-row","items-center"],[1,"mr-2"],["runScripts","",1,"overflow-auto",3,"innerHTML"],[3,"keywords"],[3,"item"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"p-button",2),v("click",function(){return t.goBack()}),o()(),s(3,"h1",3),l(4),o(),s(5,"div",4)(6,"div",5),l(7),c(8,"translate"),c(9,"date"),o(),s(10,"div",5),l(11),c(12,"translate"),o(),s(13,"div"),l(14),c(15,"translate"),o()(),A(16,oe,2,3,"div",6),h(17,"app-article-tags",7),o(),h(18,"app-relevant-article-list",8)),e&2&&(n(2),f("label","Go back")("text",!0),n(2),y(t.title),n(3),C(" ",u(8,12,"Publish Date"),":\xA0",V(9,14,t.timestamp,t.counter.showPublishedDate?"yyyy-MM-dd":"MMM, yyyy")," "),n(4),C("",u(12,17,"Total read"),":\xA0",t.totalRead,""),n(3),C("",u(15,19,"Total words"),":\xA0",t.totalWordsCount,""),n(2),D(t.html?16:-1),n(),f("keywords",t.tags),n(),f("item",t.item))},dependencies:[k,S,Q,K,Z,P,_,M,$],styles:['@charset "UTF-8";.article-container[_ngcontent-%COMP%]{line-height:2}[_nghost-%COMP%]     h1{line-height:1.2;margin-top:1rem;margin-bottom:1rem}[_nghost-%COMP%]     h2{border-inline-start:4px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2;margin-top:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]     h3{border-inline-start:3px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2;margin-top:.3rem;margin-bottom:.3rem}[_nghost-%COMP%]     h4{line-height:1.2;margin-top:.2rem;margin-bottom:.2rem}[_nghost-%COMP%]     p{overflow-wrap:anywhere;margin:1rem 0}[_nghost-%COMP%]     ul{counter-reset:list-counter;list-style:none;margin-bottom:3rem;vertical-align:middle}[_nghost-%COMP%]     ul li{margin:.5rem 1rem;line-height:1rem}[_nghost-%COMP%]     ul li a{text-decoration:underline;color:#555}[_nghost-%COMP%]     ul li:before{font:700 24pt helvetica,arial,sans-serif;content:counter(list-counter);counter-increment:list-counter;font-family:arial;color:#666;font:bold;margin-right:.5em}[_nghost-%COMP%]     pre{line-height:1.5}[_nghost-%COMP%]     pre code{white-space:pre;font-size:1rem;border-radius:18px}[_nghost-%COMP%]     pre ::-webkit-scrollbar{width:10px;height:10px;background-color:transparent}[_nghost-%COMP%]     pre ::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]     pre ::-webkit-scrollbar-thumb{background-color:#00000080;border-radius:4px}[_nghost-%COMP%]     figure{display:flex;flex-direction:row;color:#000;line-height:28px;text-overflow:ellipsis;white-space:nowrap;margin:10px 0!important;overflow:hidden;border:1px solid var(--p-surface-300);padding:.5rem;background-color:var(--p-zinc-100)}[_nghost-%COMP%]     figure a{display:flex}[_nghost-%COMP%]     figure .og-image{width:100px;border:1px solid var(--p-surface-300);margin:0 1rem 0 0!important}[_nghost-%COMP%]     figure .og-title{margin:0!important}[_nghost-%COMP%]     figure .og-text{font-size:1rem;font-weight:600;color:var(--p-zinc-700)}[_nghost-%COMP%]     figure .og-desc{margin:0!important;font-size:.9rem;font-weight:400;color:var(--p-zinc-700)}[_nghost-%COMP%]     figure .og-host{margin:.5rem 0!important;font-size:.9rem;font-weight:400}[_nghost-%COMP%]     table{border-collapse:collapse;font-size:.8rem}[_nghost-%COMP%]     table th{padding:0 1rem;border:1px solid var(--p-surface-400);background-color:var(--p-primary-100)}[_nghost-%COMP%]     table tbody tr:nth-child(2n){background-color:var(--p-surface-50)}[_nghost-%COMP%]     table td{padding:.5rem 1rem;border:1px solid var(--p-surface-400)}']})};export{ee as ArticlesComponent};
