import{c as w,d as z,k as L,n as I}from"./chunk-SCDICKWK.js";import{c as A}from"./chunk-FAKHGU7J.js";import{Cb as M,Db as h,Eb as j,Jb as T,Kb as C,Ra as u,Sb as E,Tb as P,Ua as v,Wa as m,Xa as n,cc as R,dc as D,eb as g,gb as S,hb as y,lb as b,tb as x,va as f,yb as H}from"./chunk-URIV444J.js";var a=class r{constructor(e){this.elementRef=e;new MutationObserver((i,o)=>{let s=this.elementRef.nativeElement.getElementsByTagName("script");if(s.length>0){this.at=0,this.total=s.length,this.reinsertScripts(s),o.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(e){let t=e[this.at];if(t){let i=document.createElement("script");i.type=t.type?t.type:"text/javascript",t.innerHTML?i.innerHTML=t.innerHTML:t.src&&(i.src=t.src),i.async=!1,i.onload=o=>{this.at++,this.reinsertScripts(e)},t.parentNode.replaceChild(i,t)}}static \u0275fac=function(t){return new(t||r)(n(f))};static \u0275dir=S({type:r,selectors:[["","runScripts",""]]})};var c=class r{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||r)(n(w,16))};static \u0275pipe=y({name:"safeHtml",type:r,pure:!0})};function _(r,e){if(r&1&&(j(0,"div",2),R(1,"safeHtml")),r&2){let t=C();x("innerHTML",D(1,1,t.html),u)}}var B=class r{constructor(e,t,i){this.helper=e;this.route=t;this.menuService=i;this.route.queryParams.pipe(A()).subscribe(o=>{let s=o.id,p=this.menuService.getMenu(s);if(p){let l=p.data;l?.path&&(this.title=p.label??"",this.htmlPath=l.path,this.html=void 0,this.helper.readTextFile(this.htmlPath).subscribe(d=>{this.helper.updateMetaTags(d,l.keywords),this.html=this.script+d}))}this.updateMaxWidth()})}onResize(e){this.updateMaxWidth()}htmlPath="";maxWidth=300;title="";html;script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;updateMaxWidth(){this.maxWidth=window.innerWidth-450}static \u0275fac=function(t){return new(t||r)(n(L),n(z),n(I))};static \u0275cmp=g({type:r,selectors:[["app-articles"]],hostBindings:function(t,i){t&1&&T("resize",function(s){return i.onResize(s)},!1,v)},inputs:{htmlPath:"htmlPath"},decls:4,vars:2,consts:[[1,"article-container","mx-auto","md:p-5"],[1,"text-xl","font-bold","mb-5"],["runScripts","",1,"overflow-auto",3,"innerHTML"]],template:function(t,i){t&1&&(M(0,"div",0)(1,"div",1),E(2),h(),b(3,_,2,3,"div",2),h()),t&2&&(m(2),P(i.title),m(),H(i.html?3:-1))},dependencies:[c,a],encapsulation:2})};export{B as ArticlesComponent};
