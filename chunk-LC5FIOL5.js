import{b as K}from"./chunk-6QMGCAVP.js";import{a as G,b as J}from"./chunk-ARMYIRWF.js";import{h as z,n as w,v as F,w as q,x as v}from"./chunk-INUTNZJL.js";import{c as B,d as N,ta as U,ua as $}from"./chunk-J23FZL65.js";import{Ab as k,Cb as E,Db as P,Eb as a,Fb as s,Gb as f,Lb as H,Mb as A,Ta as I,Ua as _,Ub as c,Vb as h,Wa as n,Wb as D,Xa as o,Xb as O,fb as u,hb as T,ib as j,kc as S,lc as C,mb as L,ub as l,wa as x,zb as R}from"./chunk-TBPIXPHB.js";function X(r,t){if(r&1&&(a(0,"div")(1,"a",4),c(2),s()()),r&2){let e=t.$implicit;n(),l("href",e.routerLink,_),n(),D(" ",e.label," ")}}var g=class r{constructor(t){this.menuService=t}_item;get item(){return this._item}set item(t){if(t!==this._item&&(this._item=t,this._item)){let e=F.find(i=>i.category===this._item.category);this.category=e.label,this.itemList=this.menuService.getRelevantArticles(this._item)}}category="";itemList=[];static \u0275fac=function(e){return new(e||r)(o(v))};static \u0275cmp=u({type:r,selectors:[["app-relevant-article-list"]],inputs:{item:"item"},decls:10,vars:1,consts:[[1,"mt-10"],[1,"text-zinc-700"],[1,"border-b","my-2","border-zinc-300"],[1,"text-sm","text-zinc-500","font-semibold"],[1,"text-zinc-500","hover:text-primary-500","cursor-pointer",3,"href"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2")(3,"span"),c(4),s(),c(5," > Relevant articles in this category. "),s()(),f(6,"div",2),a(7,"div",3),E(8,X,3,2,"div",null,k),s()()),e&2&&(n(4),h(i.category),n(4),P(i.itemList))},encapsulation:2})};var y=class r{constructor(t){this.elementRef=t;typeof MutationObserver<"u"&&new MutationObserver((i,p)=>{let d=this.elementRef.nativeElement.getElementsByTagName("script");if(d.length>0){this.at=0,this.total=d.length,this.reinsertScripts(d),p.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(t){let e=t[this.at];if(e){let i=document.createElement("script");i.type=e.type?e.type:"text/javascript",e.innerHTML?i.innerHTML=e.innerHTML:e.src&&(i.src=e.src),i.async=!1,i.onload=p=>{this.at++,this.reinsertScripts(t)},e.parentNode.replaceChild(i,e)}}static \u0275fac=function(e){return new(e||r)(o(x))};static \u0275dir=T({type:r,selectors:[["","runScripts",""]]})};var b=class r{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(e){return new(e||r)(o(z,16))};static \u0275pipe=j({name:"safeHtml",type:r,pure:!0})};function Y(r,t){if(r&1&&(f(0,"div",5),S(1,"safeHtml")),r&2){let e=A();l("innerHTML",C(1,1,e.html),I)}}var Q=class r{constructor(t,e,i,p){this.menuService=t;this.router=e;this.helper=i;this.counter=p}htmlPath="";title="";tags=[];html;item;totalRead=0;script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;ngOnInit(){let t=this.menuService.getMenuByUrl(this.router.url);if(t){this.item=t,this.title=t.label??"",this.tags=t.keywords?t.keywords.split(",").map(m=>m.trim()):[],this.htmlPath=`assets/${t.routerLink}.html`,this.html=void 0;let e=t.routerLink.split("/"),i=e.at(-2),p=+e.at(-1),d=q.find(m=>m.category===i&&m.id===p);if(d){let m=d.content;this.helper.updateMetaTags(m,t.keywords),this.html=this.script+m}}this.counter.getCounts([this.router.url]).subscribe(e=>{e.data.length>0&&(this.totalRead=e.data[0].visit??0)})}goBack(){history.back()}static \u0275fac=function(e){return new(e||r)(o(v),o(w),o(G),o(J))};static \u0275cmp=u({type:r,selectors:[["app-articles"]],inputs:{htmlPath:"htmlPath"},decls:11,vars:10,consts:[[1,"article-container","mx-auto","md:p-5","text-zinc-800"],[1,"mb-3","flex","justify-end"],[3,"click","label","text"],[1,"text-2xl","font-bold","mb-5","text-surface-700"],[1,"text-sm","font-bold","mb-5","text-surface-500","border-b"],["runScripts","",1,"overflow-auto",3,"innerHTML"],[3,"keywords"],[3,"item"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"p-button",2),H("click",function(){return i.goBack()}),s()(),a(3,"div",3),c(4),s(),a(5,"div",4),c(6),S(7,"translate"),s(),L(8,Y,2,3,"div",5),s(),f(9,"app-article-tags",6)(10,"app-relevant-article-list",7)),e&2&&(n(2),l("label","Go back")("text",!0),n(2),h(i.title),n(2),O("",C(7,8,"Total read"),":\xA0",i.totalRead,""),n(2),R(i.html?8:-1),n(),l("keywords",i.tags),n(),l("item",i.item))},dependencies:[b,y,$,U,K,g,N,B],styles:[".article-container[_ngcontent-%COMP%]{line-height:2}[_nghost-%COMP%]     h1{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h2{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h3{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h4{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     pre{line-height:1.2}"]})};export{Q as ArticlesComponent};
