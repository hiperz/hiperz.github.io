import{a as c,f as m}from"./chunk-SSSAYZNB.js";import{_ as g,b as u}from"./chunk-J23FZL65.js";import{X as s,aa as a,ab as l,k as p,p as d}from"./chunk-TBPIXPHB.js";var h=class o{constructor(e,t,r,n,i){this.http=e;this.meta=t;this.renderer=r;this.messageService=n;this.translateService=i}readTextFile(e){return this.http.get(e,{responseType:"text"})}updateMetaTags(e,t){let r=this.renderer.createElement("div");r.innerHTML=e,r.querySelectorAll("code, script").forEach(b=>b.remove());let i="JunaPapa",f=(r.textContent||r.innerText||"").trim();this.updateOrCreateMetaTag("author",i),this.updateOrCreateMetaTag("description",f),this.updateOrCreateMetaTag("keywords",t)}extractContent(e){let t=this.renderer.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").trim()}updateOrCreateMetaTag(e,t){this.meta.getTag(`name='${e}'`)?this.meta.updateTag({name:e,content:t}):this.meta.addTag({name:e,content:t})}utf8ToBase64(e){let r=new TextEncoder().encode(e),n="";return r.forEach(i=>{n+=String.fromCharCode(i)}),btoa(n)}imageToBase64(e){return new p(t=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t.next(r.result),t.complete()},r.onerror=n=>{t.error(n)}})}base64ToUtf8(e){let t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new TextDecoder().decode(r)}notify(e,t="",r="info"){this.messageService.add({severity:r,summary:e?this.translateService.instant(e):"",detail:t&&this.translateService.instant(t)})}copyToClipboard(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then(()=>{}).catch(t=>{console.error(t)});else{let t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(t)}}readFromClipboard(){return new p(e=>{navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(t=>{e.next(t),e.complete()}).catch(t=>{e.error(t)}):e.error("Clipboard API not supported")})}static \u0275fac=function(t){return new(t||o)(a(c),a(m),a(l),a(g),a(u))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};var v=class o{constructor(e){this.http=e}hiperzApiServer="https://hiperz.mooo.com";counter$=new d({total:0,today:0});updateCounter(e){let t=e.split("?")[0];this.http.post(this.hiperzApiServer+"/counter",{url:t}).subscribe(r=>{this.counter$.next({total:r.total,today:r.today})})}getCounts(e){let t=e.map(r=>r.split("?")[0]);return this.http.post(this.hiperzApiServer+"/counter/query",{urls:t})}static \u0275fac=function(t){return new(t||o)(a(c))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};export{h as a,v as b};
