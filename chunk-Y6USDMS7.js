import{e as qe,f as Ne}from"./chunk-TKGAZOCK.js";import{d as $e,e as Qe,f as He,g as je}from"./chunk-EBDUX3SL.js";import{b as Ce,e as xe,f as Te,g as Le,h as Ae,i as Oe}from"./chunk-LLXPLKI7.js";import{a as Je,b as We}from"./chunk-ABZQFXXM.js";import{a as Ee,b as ze}from"./chunk-5IRLR57R.js";import{b as ye,c as ve,f as Be}from"./chunk-BKSKIRON.js";import{Ba as Ve,Ea as De,La as Me,Pa as ke,Qa as Fe,ha as Y,l as fe,n as he,sa as Pe,v as we,va as Se,w as _e,wa as be,ya as Ie,za as Re}from"./chunk-BWXEYXKU.js";import{$b as re,Ab as Q,Cb as H,Db as j,Eb as s,Fb as p,Gb as C,Hb as q,Hc as K,Ib as N,Jb as D,Jc as pe,Kb as I,Lb as S,Lc as de,Mb as d,Mc as ce,Nb as oe,Nc as me,Ob as J,Oc as ge,Pb as h,Pc as ue,Qc as E,Rb as w,Sb as _,Ta as ee,Ub as m,Vb as R,Wa as l,Wb as F,X,Xa as V,Xb as b,Zb as ne,_b as ae,ac as le,ba as z,cc as W,dc as se,fb as A,ia as Z,ja as T,jb as te,ka as L,kc as u,lb as ie,lc as v,ma as B,mb as g,mc as O,nc as U,oc as G,sa as k,tc as x,ub as c,uc as M,yb as $,zb as P}from"./chunk-KZVD5HA2.js";var tt=({dt:t})=>`
.p-dataview {
    border-color: ${t("dataview.border.color")};
    border-width: ${t("dataview.border.width")};
    border-style: solid;
    border-radius: ${t("dataview.border.radius")};
    padding: ${t("dataview.padding")};
}

.p-dataview-header {
    background: ${t("dataview.header.background")};
    color: ${t("dataview.header.color")};
    border-color: ${t("dataview.header.border.color")};
    border-width: ${t("dataview.header.border.width")};
    border-style: solid;
    padding: ${t("dataview.header.padding")};
    border-radius: ${t("dataview.header.border.radius")};
}

.p-dataview-content {
    background: ${t("dataview.content.background")};
    border-color: ${t("dataview.content.border.color")};
    border-width: ${t("dataview.content.border.width")};
    border-style: solid;
    color: ${t("dataview.content.color")};
    padding: ${t("dataview.content.padding")};
    border-radius: ${t("dataview.content.border.radius")};
}

.p-dataview-footer {
    background: ${t("dataview.footer.background")};
    color: ${t("dataview.footer.color")};
    border-color: ${t("dataview.footer.border.color")};
    border-width: ${t("dataview.footer.border.width")};
    border-style: solid;
    padding: ${t("dataview.footer.padding")};
    border-radius: ${t("dataview.footer.border.radius")};
}

.p-dataview-paginator-top {
    border-width: ${t("dataview.paginator.top.border.width")};
    border-color: ${t("dataview.paginator.top.border.color")};
    border-style: solid;
}

.p-dataview-paginator-bottom {
    border-width: ${t("dataview.paginator.bottom.border.width")};
    border-color: ${t("dataview.paginator.bottom.border.color")};
    border-style: solid;
}
`,it={root:({props:t})=>["p-dataview p-component",{"p-dataview-list":t.layout==="list","p-dataview-grid":t.layout==="grid"}],header:"p-dataview-header",pcPaginator:({position:t})=>"p-dataview-paginator-"+t,content:"p-dataview-content",emptyMessage:"p-dataview-empty-message",footer:"p-dataview-footer"},Ue=(()=>{class t extends Ve{name="dataview";theme=tt;classes=it;static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})();var ot=["list"],nt=["grid"],at=["header"],rt=["emptymessage"],lt=["footer"],st=["paginatorleft"],pt=["paginatorright"],dt=["paginatordropdownitem"],ct=["loadingIcon"],mt=["listicon"],gt=["gridicon"],ut=[[["p-header"]],[["p-footer"]]],ft=["p-header","p-footer"],ht=(t,a)=>({"p-dataview p-component":!0,"p-dataview-list":t,"p-dataview-grid":a}),Ge=t=>({$implicit:t});function wt(t,a){if(t&1&&C(0,"i"),t&2){let e=d(2);$("p-dataview-loading-icon pi-spin "+e.loadingIcon)}}function _t(t,a){t&1&&C(0,"SpinnerIcon",14),t&2&&c("spin",!0)("styleClass","p-dataview-loading-icon")}function yt(t,a){}function vt(t,a){t&1&&g(0,yt,0,0,"ng-template")}function Ct(t,a){if(t&1&&(q(0),g(1,_t,1,2,"SpinnerIcon",12)(2,vt,1,0,null,13),N()),t&2){let e=d(2);l(),c("ngIf",!e.loadingicon),l(),c("ngTemplateOutlet",e.loadingicon)}}function xt(t,a){if(t&1&&(s(0,"div",9)(1,"div",10),g(2,wt,1,2,"i",11)(3,Ct,3,2,"ng-container",6),p()()),t&2){let e=d();l(2),c("ngIf",e.loadingIcon),l(),c("ngIf",!e.loadingIcon)}}function Tt(t,a){t&1&&D(0)}function Lt(t,a){if(t&1&&(s(0,"div",15),J(1),g(2,Tt,1,0,"ng-container",13),p()),t&2){let e=d();l(2),c("ngTemplateOutlet",e.headerTemplate)}}function Pt(t,a){if(t&1){let e=I();s(0,"p-paginator",16),S("onPageChange",function(i){T(e);let o=d();return L(o.paginate(i))}),p()}if(t&2){let e=d();c("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function St(t,a){t&1&&D(0)}function bt(t,a){if(t&1&&(g(0,St,1,0,"ng-container",17),u(1,"slice")),t&2){let e=d();c("ngTemplateOutlet",e.listTemplate)("ngTemplateOutletContext",W(6,Ge,e.paginator?U(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function It(t,a){t&1&&D(0)}function Rt(t,a){if(t&1&&(g(0,It,1,0,"ng-container",17),u(1,"slice")),t&2){let e=d();c("ngTemplateOutlet",e.gridTemplate)("ngTemplateOutletContext",W(6,Ge,e.paginator?U(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function Vt(t,a){if(t&1&&(q(0),m(1),N()),t&2){let e=d(2);l(),F(" ",e.emptyMessageLabel," ")}}function Dt(t,a){t&1&&D(0,null,0)}function Mt(t,a){if(t&1&&(s(0,"div")(1,"div",18),g(2,Vt,2,1,"ng-container",19)(3,Dt,2,0,"ng-container",13),p()()),t&2){let e=d();l(2),c("ngIf",!e.emptymessageTemplate)("ngIfElse",e.empty),l(),c("ngTemplateOutlet",e.emptymessageTemplate)}}function kt(t,a){if(t&1){let e=I();s(0,"p-paginator",20),S("onPageChange",function(i){T(e);let o=d();return L(o.paginate(i))}),p()}if(t&2){let e=d();c("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function Ft(t,a){t&1&&D(0)}function At(t,a){if(t&1&&(s(0,"div",21),J(1,1),g(2,Ft,1,0,"ng-container",13),p()),t&2){let e=d();l(2),c("ngTemplateOutlet",e.footerTemplate)}}var Ke=(()=>{class t extends De{paginator;rows;totalRecords;pageLinks=5;rowsPerPageOptions;paginatorPosition="bottom";paginatorStyleClass;alwaysShowPaginator=!0;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;lazy;lazyLoadOnInit=!0;emptyMessage="";style;styleClass;gridStyleClass="";trackBy=(e,r)=>r;filterBy;filterLocale;loading;loadingIcon;first=0;sortField;sortOrder;value;layout="list";onLazyLoad=new k;onPage=new k;onSort=new k;onChangeLayout=new k;listTemplate;gridTemplate;headerTemplate;emptymessageTemplate;footerTemplate;paginatorleft;paginatorright;paginatordropdownitem;loadingicon;listicon;gridicon;header;footer;_value;filteredValue;filterValue;initialized;_layout="list";translationSubscription;_componentStyle=z(Ue);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Re.EMPTY_MESSAGE)}filterService=z(Pe);ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngAfterViewInit(){super.ngAfterViewInit()}ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,r)=>{let i=Y(e,this.sortField),o=Y(r,this.sortField),n=null;return i==null&&o!=null?n=-1:i!=null&&o==null?n=1:i==null&&o==null?n=0:typeof i=="string"&&typeof o=="string"?n=i.localeCompare(o):n=i<o?-1:i>o?1:0,this.sortOrder*n}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}filter(e,r="contains"){if(this.filterValue=e,this.value&&this.value.length){let i=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,i,e,r,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=A({type:t,selectors:[["p-dataView"],["p-dataview"],["p-data-view"]],contentQueries:function(r,i,o){if(r&1&&(h(o,ot,5),h(o,nt,5),h(o,at,5),h(o,rt,5),h(o,lt,5),h(o,st,5),h(o,pt,5),h(o,dt,5),h(o,ct,5),h(o,mt,5),h(o,gt,5),h(o,Se,5),h(o,be,5)),r&2){let n;w(n=_())&&(i.listTemplate=n.first),w(n=_())&&(i.gridTemplate=n.first),w(n=_())&&(i.headerTemplate=n.first),w(n=_())&&(i.emptymessageTemplate=n.first),w(n=_())&&(i.footerTemplate=n.first),w(n=_())&&(i.paginatorleft=n.first),w(n=_())&&(i.paginatorright=n.first),w(n=_())&&(i.paginatordropdownitem=n.first),w(n=_())&&(i.loadingicon=n.first),w(n=_())&&(i.listicon=n.first),w(n=_())&&(i.gridicon=n.first),w(n=_())&&(i.header=n.first),w(n=_())&&(i.footer=n.first)}},inputs:{paginator:[2,"paginator","paginator",x],rows:[2,"rows","rows",M],totalRecords:[2,"totalRecords","totalRecords",M],pageLinks:[2,"pageLinks","pageLinks",M],rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",x],paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",x],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",x],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",x],showPageLinks:[2,"showPageLinks","showPageLinks",x],lazy:[2,"lazy","lazy",x],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",x],emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:[2,"loading","loading",x],loadingIcon:"loadingIcon",first:[2,"first","first",M],sortField:"sortField",sortOrder:[2,"sortOrder","sortOrder",M],value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[le([Ue]),ie,te,Z],ngContentSelectors:ft,decls:10,vars:15,consts:[["empty",""],[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-overlay-mask"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"spin","styleClass"],[1,"p-dataview-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass"],[1,"p-dataview-footer"]],template:function(r,i){r&1&&(oe(ut),s(0,"div",1),g(1,xt,4,2,"div",2)(2,Lt,3,1,"div",3)(3,Pt,1,17,"p-paginator",4),s(4,"div",5),g(5,bt,2,8,"ng-container")(6,Rt,2,8,"ng-container")(7,Mt,4,3,"div",6),p(),g(8,kt,1,17,"p-paginator",7)(9,At,3,1,"div",8),p()),r&2&&($(i.styleClass),c("ngClass",se(12,ht,i.layout==="list",i.layout==="grid"))("ngStyle",i.style),l(),c("ngIf",i.loading),l(),c("ngIf",i.header||i.headerTemplate),l(),c("ngIf",i.paginator&&(i.paginatorPosition==="top"||i.paginatorPosition=="both")),l(2),P(i.layout==="list"?5:-1),l(),P(i.layout==="grid"?6:-1),l(),c("ngIf",i.isEmpty()&&!i.loading),l(),c("ngIf",i.paginator&&(i.paginatorPosition==="bottom"||i.paginatorPosition=="both")),l(),c("ngIf",i.footer||i.footerTemplate))},dependencies:[E,pe,de,me,ce,ue,Ne,qe,Me,Ie],encapsulation:2,changeDetection:0})}return t})();function Ot(t,a){t&1&&C(0,"img",7)}function Et(t,a){t&1&&C(0,"img",8)}function zt(t,a){t&1&&C(0,"img",9)}function Bt(t,a){t&1&&C(0,"img",10)}function $t(t,a){if(t&1){let e=I();s(0,"div",4),S("click",function(){let i=T(e).$implicit,o=d(2);return L(o.onViewContent(i))}),s(1,"div",5)(2,"div",6),g(3,Ot,1,0,"img",7)(4,Et,1,0,"img",8)(5,zt,1,0,"img",9)(6,Bt,1,0,"img",10),p(),s(7,"div")(8,"div",11),m(9),p(),s(10,"div",12)(11,"div",13),m(12),u(13,"translate"),u(14,"date"),p(),s(15,"div"),m(16),u(17,"translate"),p()()()()()}if(t&2){let e,r,i=a.$implicit,o=a.$index,n=d(2);l(3),P((e=o)===0?3:e===1?4:e===2?5:6),l(6),R(i.label),l(3),b(" ",v(13,6,"Publish Date"),":\xA0",O(14,8,i.timestamp,n.counter.showPublishedDate?"yyyy-MM-dd":"MMM, yyyy")," "),l(4),b("",v(17,11,"Total read"),":\xA0",(r=i.totalRead)!==null&&r!==void 0?r:0,"")}}function Qt(t,a){if(t&1&&(s(0,"h3")(1,"span"),m(2),u(3,"translate"),p()(),s(4,"div"),H(5,$t,18,13,"div",3,Q),p()),t&2){let e=d();l(2),R(v(3,1,"Top 20 Blog Posts")),l(3),j(e.filteredList)}}function Ht(t,a){if(t&1&&(s(0,"span"),m(1),u(2,"translate"),p(),m(3)),t&2){let e=d(2);l(),R(v(2,3,"Category")),l(2),b(" : ",e.category," (",e.searchedList.length,") ")}}function jt(t,a){if(t&1&&(s(0,"span"),m(1),u(2,"translate"),p(),m(3,"\xA0"),s(4,"span"),m(5),p()),t&2){let e=d(2);l(),R(v(2,2,"Blog Posts")),l(4),F("(",e.searchedList.length,")")}}function qt(t,a){if(t&1&&C(0,"img",23),t&2){let e=d().$implicit;c("src",e.image,ee)}}function Nt(t,a){t&1&&(s(0,"div",24),m(1),u(2,"translate"),p()),t&2&&(l(),R(v(2,1,"No Image")))}function Jt(t,a){if(t&1){let e=I();s(0,"div",21),S("click",function(){let i=T(e).$implicit,o=d(3);return L(o.onViewContent(i))}),s(1,"div",22),g(2,qt,1,1,"img",23)(3,Nt,3,3,"div",24),p(),s(4,"div",25)(5,"div",26)(6,"h2"),m(7),p()(),s(8,"div",27)(9,"div",13),m(10),u(11,"translate"),u(12,"date"),p(),s(13,"div"),m(14),u(15,"translate"),p(),s(16,"div",28),m(17),u(18,"translate"),p()(),s(19,"div",29),m(20),u(21,"appCutText"),p(),C(22,"app-article-tags",30),p()()}if(t&2){let e,r=a.$implicit,i=d(3);l(2),P(r.image?2:3),l(5),R(r.label),l(3),b(" ",v(11,10,"Publish Date"),":\xA0",O(12,12,r.timestamp,i.counter.showPublishedDate?"yyyy-MM-dd":"MMM, yyyy")," "),l(4),b("",v(15,15,"Total read"),":\xA0",(e=r.totalRead)!==null&&e!==void 0?e:0,""),l(3),b("",v(18,17,"Total words"),":\xA0",r.totalWordsCount,""),l(3),F(" ",O(21,19,r.content,300)," "),l(2),c("keywords",r.keywords)}}function Wt(t,a){if(t&1&&H(0,Jt,23,22,"div",20,Q),t&2){let e=a.$implicit;j(e)}}function Ut(t,a){t&1&&(s(0,"div",31),m(1,"No Articles exist"),p())}function Gt(t,a){if(t&1){let e=I();s(0,"div",14)(1,"p-iconfield"),C(2,"p-inputicon",15),s(3,"input",16),u(4,"translate"),re("ngModelChange",function(i){T(e);let o=d();return ae(o.filter,i)||(o.filter=i),L(i)}),S("ngModelChange",function(){T(e);let i=d();return L(i.onFilter())}),p()()(),s(5,"div",17)(6,"h1"),g(7,Ht,4,5)(8,jt,6,4),p()(),s(9,"div",18),m(10),u(11,"translate"),p(),s(12,"p-dataview",19),S("onPage",function(i){T(e);let o=d();return L(o.onPage(i))}),g(13,Wt,2,0,"ng-template",null,0,G)(15,Ut,2,0,"ng-template",null,1,G),p()}if(t&2){let e=d();l(3),c("placeholder",v(4,9,"Search")),ne("ngModel",e.filter),l(4),P(e.category?7:8),l(3),b(" ",v(11,11,"Total visit"),":\xA0",e.totalVisit," "),l(2),c("value",e.searchedList)("first",e.first)("rows",e.rows)("paginator",!0)}}var Ye=class t{constructor(a,e,r,i,o){this.helper=a;this.menuService=e;this.route=r;this.router=i;this.counter=o}filteredList=[];searchedList=[];rows=5;first=0;totalVisit=0;isHomepage=!1;filter="";category;ngOnInit(){let e=[...ve].reverse().map(o=>({label:o.label,routerLink:o.routerLink,keywords:o.keywords.split(",").map(n=>n.trim()),category:o.category,timestamp:o.timestamp})),r=K.stripTrailingSlash(this.router.url).split("?")[0],i=this.route.snapshot.queryParams;if(this.isHomepage=r==="/"||r==="",this.isHomepage)this.counter.getTopArticles().subscribe(o=>{if(o.success){let n=e.filter(y=>{let f=o.data.find(Xe=>Xe.url===y.routerLink);return y.totalRead=f?.visit,f});this.filteredList=n.sort((y,f)=>(y.totalRead??0)>=(f.totalRead??0)?-1:1)}});else{this.filteredList=e;let o=r.split("/");if(o.includes("article-category-list")){let y=o.at(-1);this.filteredList=e.filter(f=>f.category===y),this.category=ye.find(f=>f.category===y)?.label}else this.category=void 0;let n=i.page?+i.page:1;this.first=(n-1)*this.rows,this.onPage({first:this.first,rows:this.rows},!0)}}onPage(a,e){if(a){if(this.filter){let o=this.filter.toLowerCase();this.searchedList=this.filteredList.filter(n=>n.label.toLowerCase().includes(o)||n.keywords.includes(o)||n.content?.toLowerCase().includes(o))}else this.searchedList=this.filteredList;for(let o=a.first;o<a.first+a.rows&&o<this.filteredList.length;o++){let n=this.filteredList[o],y=this.menuService.getBlogContentByUrl(n.routerLink);if(y){let f=this.helper.extractContent(y.content);n.content=f.desc,n.image=f.img,n.totalWordsCount=f.desc.trim().split(/\s+/).length}}let r=this.filteredList.map(o=>o.routerLink),i=K.stripTrailingSlash(this.router.url).split("?")[0];if(r.push(i),this.counter.getCounts(r).subscribe(o=>{o.data.length>0&&o.data.forEach(n=>{let y=this.filteredList.find(f=>f.routerLink===n.url);y?y.totalRead=n.visit??0:n.url===i&&(this.totalVisit=n.visit??0)})}),!e){let o=Math.floor(a.first/a.rows)+1;this.updatePage(o)}}}updatePage(a){this.router.navigate([],{queryParams:{page:a}})}onViewContent(a){this.menuService.navigateToArticle(a)}onFilter(){this.onPage({first:this.first,rows:this.rows},!0)}static \u0275fac=function(e){return new(e||t)(V(ze),V(Be),V(fe),V(he),V(Fe))};static \u0275cmp=A({type:t,selectors:[["app-article-list"]],decls:3,vars:1,consts:[["list",""],["emptymessage",""],[1,"sm:p-2"],[1,"overflow-hidden","cursor-pointer"],[1,"overflow-hidden","cursor-pointer",3,"click"],[1,"flex","mt-1","mb-1","text-zinc-600","hover:bg-yellow-200","overflow-hidden","break-all"],[1,"mr-1","flex-none","mt-1"],["src","/assets/images/gold.png","width","30","height","30","alt","medal"],["src","/assets/images/silver.png","width","30","height","30","alt","medal"],["src","/assets/images/bronze.png","width","30","height","30","alt","medal"],["src","/assets/images/prize.png","width","20","height","20","alt","medal",1,"ml-1"],[1,"font-semibold"],[1,"text-sm","font-bold","mb-3","text-surface-500","flex","flex-row","items-center"],[1,"mr-2"],[1,"md:m-2"],["styleClass","pi pi-search"],["type","text","pInputText","",1,"w-full",3,"ngModelChange","placeholder","ngModel"],[1,"px-2"],[1,"px-2","text-sm","font-bold","mb-5","text-surface-500"],[3,"onPage","value","first","rows","paginator"],[1,"flex","flex-row","p-2","sm:p-5","border","my-2","cursor-pointer","hover:bg-primary-100"],[1,"flex","flex-row","p-2","sm:p-5","border","my-2","cursor-pointer","hover:bg-primary-100",3,"click"],[1,"hidden","flex-grow-0","flex-shrink-0","w-[200px]","h-[200px]","mr-5","border","md:flex","items-center","justify-center","bg-zinc-100"],["alt","No image",1,"w-full","h-full","object-cover",3,"src"],[1,"text-sm"],[1,"flex","flex-col"],[1,"mb-1","text-zinc-600","hover:text-primary-500","overflow-hidden","break-all"],[1,"text-sm","font-bold","mb-5","text-surface-500","border-b","flex","flex-row","items-center"],[1,"ml-2"],[1,"text-zinc-500","h-[50px]","overflow-hidden","text-ellipsis"],[3,"keywords"],[1,"flex","justify-center","items-center","h-20","border","my-2","p-5","font-bold"]],template:function(e,r){e&1&&(s(0,"div",2),g(1,Qt,7,3)(2,Gt,17,13),p()),e&2&&(l(),P(r.isHomepage?1:2))},dependencies:[Ke,ke,E,ge,Ee,Je,_e,we,We,je,He,Qe,$e,Oe,Ae,Le,Ce,xe,Te],encapsulation:2})};export{Ye as a};
