import{a as z,h as W}from"./chunk-WEODE3DR.js";import{f as L,g as A,ma as I}from"./chunk-W3DXS5Y4.js";import{Cb as j,Db as h,Eb as T,Jb as C,Kb as E,Ra as f,Sb as P,Tb as R,Ua as v,Wa as m,Xa as n,cc as w,dc as D,eb as g,gb as S,hb as x,lb as y,tb as H,ub as b,va as u,yb as M}from"./chunk-URIV444J.js";var a=class r{constructor(e){this.elementRef=e;new MutationObserver((i,o)=>{let s=this.elementRef.nativeElement.getElementsByTagName("script");if(s.length>0){this.at=0,this.total=s.length,this.reinsertScripts(s),o.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(e){let t=e[this.at];if(t){let i=document.createElement("script");i.type=t.type?t.type:"text/javascript",t.innerHTML?i.innerHTML=t.innerHTML:t.src&&(i.src=t.src),i.async=!1,i.onload=o=>{this.at++,this.reinsertScripts(e)},t.parentNode.replaceChild(i,t)}}static \u0275fac=function(t){return new(t||r)(n(u))};static \u0275dir=S({type:r,selectors:[["","runScripts",""]]})};var c=class r{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||r)(n(L,16))};static \u0275pipe=x({name:"safeHtml",type:r,pure:!0})};function F(r,e){if(r&1&&(T(0,"div",3),w(1,"safeHtml")),r&2){let t=E();b("max-width",t.maxWidth,"px"),H("innerHTML",D(1,3,t.html),f)}}var _=class r{constructor(e,t,i){this.helper=e;this.route=t;this.menuService=i;this.route.queryParams.pipe(A()).subscribe(o=>{let s=o.id,p=this.menuService.getMenu(s);if(p){let l=p.data;l?.path&&(this.title=p.label??"",this.htmlPath=l.path,this.html=void 0,this.helper.readTextFile(this.htmlPath).subscribe(d=>{this.helper.updateMetaTags(d,l.keywords),this.html=this.script+d}))}this.updateMaxWidth()})}onResize(e){this.updateMaxWidth()}htmlPath="";maxWidth=550;title="";html;script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;updateMaxWidth(){this.maxWidth=window.innerWidth-450}static \u0275fac=function(t){return new(t||r)(n(I),n(z),n(W))};static \u0275cmp=g({type:r,selectors:[["app-articles"]],hostBindings:function(t,i){t&1&&C("resize",function(s){return i.onResize(s)},!1,v)},inputs:{htmlPath:"htmlPath"},decls:4,vars:2,consts:[[1,"article-container","mx-auto","p-5"],[1,"text-xl","font-bold","mb-5"],["runScripts","",3,"max-width","innerHTML"],["runScripts","",3,"innerHTML"]],template:function(t,i){t&1&&(j(0,"div",0)(1,"div",1),P(2),h(),y(3,F,2,5,"div",2),h()),t&2&&(m(2),R(i.title),m(),M(i.html?3:-1))},dependencies:[c,a],encapsulation:2})};export{_ as ArticlesComponent};
