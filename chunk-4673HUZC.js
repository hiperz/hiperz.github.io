import{b as N}from"./chunk-MA36PYP6.js";import{a as F}from"./chunk-PK4UJWDE.js";import{h as A,u as z,v as w,w as u}from"./chunk-RNIJM2YR.js";import{ja as O,ka as B}from"./chunk-CIL5KQMA.js";import{Bb as L,Cb as P,Db as c,Eb as a,Fb as d,Kb as k,Lb as E,Qa as S,Ra as x,Ta as s,Tb as p,Ua as o,Ub as f,Vb as H,cb as h,eb as C,fb as _,fc as D,gc as R,jb as I,ta as M,tb as m,yb as T,zb as j}from"./chunk-TKCW3K5D.js";var v=class r{constructor(t){this.elementRef=t;typeof MutationObserver<"u"&&new MutationObserver((i,n)=>{let l=this.elementRef.nativeElement.getElementsByTagName("script");if(l.length>0){this.at=0,this.total=l.length,this.reinsertScripts(l),n.disconnect();return}}).observe(this.elementRef.nativeElement,{childList:!0,subtree:!0})}at=0;total=0;reinsertScripts(t){let e=t[this.at];if(e){let i=document.createElement("script");i.type=e.type?e.type:"text/javascript",e.innerHTML?i.innerHTML=e.innerHTML:e.src&&(i.src=e.src),i.async=!1,i.onload=n=>{this.at++,this.reinsertScripts(t)},e.parentNode.replaceChild(i,e)}}static \u0275fac=function(e){return new(e||r)(o(M))};static \u0275dir=C({type:r,selectors:[["","runScripts",""]]})};var g=class r{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(e){return new(e||r)(o(A,16))};static \u0275pipe=_({name:"safeHtml",type:r,pure:!0})};function q(r,t){if(r&1&&(c(0,"div")(1,"a",4),p(2),a()()),r&2){let e=t.$implicit;s(),m("href",e.routerLink,x),s(),H(" ",e.label," ")}}var y=class r{constructor(t){this.menuService=t}_item;get item(){return this._item}set item(t){if(t!==this._item&&(this._item=t,this._item)){let e=z.find(i=>i.category===this._item.category);this.category=e.label,this.itemList=this.menuService.getRelevantArticles(this._item)}}category="";itemList=[];static \u0275fac=function(e){return new(e||r)(o(u))};static \u0275cmp=h({type:r,selectors:[["app-relevant-article-list"]],inputs:{item:"item"},decls:10,vars:1,consts:[[1,"mt-10"],[1,"text-zinc-700"],[1,"border-b","my-2","border-zinc-300"],[1,"text-sm","text-zinc-500","font-semibold"],[1,"text-zinc-500","hover:text-primary-500","cursor-pointer",3,"href"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1)(2,"h2")(3,"span"),p(4),a(),p(5," > Relevant articles in this category. "),a()(),d(6,"div",2),c(7,"div",3),L(8,q,3,2,"div",null,j),a()()),e&2&&(s(4),f(i.category),s(4),P(i.itemList))},encapsulation:2})};function J(r,t){if(r&1&&(d(0,"div",4),D(1,"safeHtml")),r&2){let e=E();m("innerHTML",R(1,1,e.html),S)}}var $=class r{constructor(t,e){this.helper=t;this.menuService=e;this.menuService.history$.pipe(w()).subscribe(i=>{let n=i.at(-1);this.item=n,n&&(this.title=n.label??"",this.tags=n.keywords?n.keywords.split(",").map(l=>l.trim()):[],this.htmlPath=`assets/${n.routerLink}.html`,this.html=void 0,this.helper.readTextFile(this.htmlPath).subscribe(l=>{this.helper.updateMetaTags(l,n.keywords),this.html=this.script+l}))})}htmlPath="";title="";tags=[];html;item;script=`
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"><\/script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"><\/script>
<script>hljs.highlightAll();<\/script>
  `;goBack(){history.back()}static \u0275fac=function(e){return new(e||r)(o(F),o(u))};static \u0275cmp=h({type:r,selectors:[["app-articles"]],inputs:{htmlPath:"htmlPath"},decls:8,vars:6,consts:[[1,"article-container","mx-auto","md:p-5","text-zinc-800"],[1,"mb-3","flex","justify-end"],[3,"click","label","text"],[1,"text-2xl","font-bold","mb-5","text-surface-700"],["runScripts","",1,"overflow-auto",3,"innerHTML"],[3,"keywords"],[3,"item"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1)(2,"p-button",2),k("click",function(){return i.goBack()}),a()(),c(3,"div",3),p(4),a(),I(5,J,2,3,"div",4),a(),d(6,"app-article-tags",5)(7,"app-relevant-article-list",6)),e&2&&(s(2),m("label","Go back")("text",!0),s(2),f(i.title),s(),T(i.html?5:-1),s(),m("keywords",i.tags),s(),m("item",i.item))},dependencies:[g,v,B,O,N,y],styles:[".article-container[_ngcontent-%COMP%]{line-height:2}[_nghost-%COMP%]     h1{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h2{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h3{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     h4{border-inline-start:5px solid var(--p-primary-300)!important;padding-left:.8rem;line-height:1.2}[_nghost-%COMP%]     pre{line-height:1.2}"]})};export{$ as ArticlesComponent};
