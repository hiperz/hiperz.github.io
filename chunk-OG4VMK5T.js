import{a as l,f as g,sa as u,t as f}from"./chunk-Z5UK7K2Z.js";import{$a as p,X as d,aa as o,hb as m,k as c}from"./chunk-J6VIUCVX.js";var s=class n{transform(t,e=20){return typeof t!="string"?t:t.length>e?t.substring(0,e)+"...":t}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=m({name:"appCutText",type:n,pure:!0})};var T=class n{constructor(t,e,r,a,i){this.http=t;this.meta=e;this.renderer=r;this.messageService=a;this.translateService=i}readTextFile(t){return this.http.get(t,{responseType:"text"})}updateMetaTags(t,e){let r=this.renderer.createElement("div");r.innerHTML=t,r.querySelectorAll("code, script").forEach(v=>v.remove());let i="JunaPapa",h=(r.textContent||r.innerText||"").trim();this.updateOrCreateMetaTag("author",i),this.updateOrCreateMetaTag("description",new s().transform(h,200)),this.updateOrCreateMetaTag("keywords",e)}extractContent(t){let e=this.renderer.createElement("div");return e.innerHTML=t,(e.textContent||e.innerText||"").trim()}updateOrCreateMetaTag(t,e){this.meta.getTag(`name='${t}'`)?this.meta.updateTag({name:t,content:e}):this.meta.addTag({name:t,content:e})}utf8ToBase64(t){let r=new TextEncoder().encode(t),a="";return r.forEach(i=>{a+=String.fromCharCode(i)}),btoa(a)}imageToBase64(t){return new c(e=>{let r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e.next(r.result),e.complete()},r.onerror=a=>{e.error(a)}})}base64ToUtf8(t){let e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return new TextDecoder().decode(r)}notify(t,e="",r="info"){this.messageService.add({severity:r,summary:t?this.translateService.instant(t):"",detail:e&&this.translateService.instant(e)})}copyToClipboard(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(()=>{}).catch(e=>{console.error(e)});else{let e=document.createElement("textarea");e.value=t,e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(r){console.error(r)}document.body.removeChild(e)}}readFromClipboard(){return new c(t=>{navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(e=>{t.next(e),t.complete()}).catch(e=>{t.error(e)}):t.error("Clipboard API not supported")})}static \u0275fac=function(e){return new(e||n)(o(l),o(g),o(p),o(u),o(f))};static \u0275prov=d({token:n,factory:n.\u0275fac,providedIn:"root"})};export{s as a,T as b};
